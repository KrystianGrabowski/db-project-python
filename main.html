
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module main</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>main</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/krystian/db-project-python/main.py">/home/krystian/db-project-python/main.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="Crypto.Cipher.AES.html">Crypto.Cipher.AES</a><br>
<a href="argparse.html">argparse</a><br>
</td><td width="25%" valign=top><a href="json.html">json</a><br>
<a href="pprint.html">pprint</a><br>
</td><td width="25%" valign=top><a href="psycopg2.html">psycopg2</a><br>
<a href="sys.html">sys</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="main.html#Database">Database</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Database">class <strong>Database</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Baza&nbsp;do&nbsp;zarzadzania&nbsp;baza&nbsp;danych&nbsp;partii&nbsp;politycznej<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Database-__init__"><strong>__init__</strong></a>(self, db_init, debug_mode)</dt><dd><tt>Ustawia&nbsp;trybu&nbsp;debugowania&nbsp;oraz&nbsp;inicjalizacji&nbsp;&nbsp;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;db_init&nbsp;(bool):&nbsp;inicjalizacja&nbsp;bazy&nbsp;danych<br>
&nbsp;&nbsp;&nbsp;&nbsp;debug_mode&nbsp;(bool):&nbsp;tryb&nbsp;debugowania</tt></dd></dl>

<dl><dt><a name="Database-actions_function"><strong>actions_function</strong></a>(self, args)</dt><dd><tt>Zwraca&nbsp;liste&nbsp;wszystkich&nbsp;akcji.&nbsp;Jesli&nbsp;podano&nbsp;typ,&nbsp;projekt/organ&nbsp;wladzy<br>
to&nbsp;ogranicza&nbsp;sie&nbsp;tylko&nbsp;do&nbsp;akcji&nbsp;o&nbsp;wspomnianym&nbsp;typie<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;actions&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;[&nbsp;&lt;type&gt;&nbsp;]&nbsp;[&nbsp;&lt;project&gt;&nbsp;|&nbsp;&lt;authority&gt;&nbsp;]&nbsp;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;glosu<br>
&nbsp;<br>
SQL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;action&gt;&nbsp;&lt;type&gt;&nbsp;&lt;project&gt;&nbsp;&lt;authority&gt;&nbsp;&lt;upvotes&gt;&nbsp;&lt;downvotes&gt;</tt></dd></dl>

<dl><dt><a name="Database-check_correctness"><strong>check_correctness</strong></a>(self, name, args)</dt><dd><tt>Aktualizuje&nbsp;czas&nbsp;aktywnosci&nbsp;uzytkownika&nbsp;oraz&nbsp;zapewnia&nbsp;ze&nbsp;wszystkie&nbsp;warunki<br>
zostaly&nbsp;spelnione&nbsp;aby&nbsp;poprawnie&nbsp;przeprowadzic&nbsp;operacje<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str)&nbsp;:&nbsp;nazwa&nbsp;funkcji<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;dane&nbsp;nowego&nbsp;uzytkownika</tt></dd></dl>

<dl><dt><a name="Database-check_password"><strong>check_password</strong></a>(self, id, password)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;haslem&nbsp;uzytkownika&nbsp;o&nbsp;identyfikatorze&nbsp;id<br>
jest&nbsp;password<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;podane&nbsp;przez&nbsp;uzytkownika<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;(bool):&nbsp;True&nbsp;jesli&nbsp;hasla&nbsp;sie&nbsp;zgadzaja&nbsp;False&nbsp;wpp<br>
&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;jesli&nbsp;uzytkownik&nbsp;nie&nbsp;istnieje</tt></dd></dl>

<dl><dt><a name="Database-check_project_existence"><strong>check_project_existence</strong></a>(self, args)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;projekt&nbsp;istnieje&nbsp;w&nbsp;bazie&nbsp;danych.&nbsp;W&nbsp;przypadku&nbsp;braku<br>
projektu&nbsp;w&nbsp;bazie&nbsp;oraz&nbsp;braku&nbsp;organu&nbsp;wladzy&nbsp;w&nbsp;args&nbsp;zglasza&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;projektu</tt></dd></dl>

<dl><dt><a name="Database-check_user_privileges"><strong>check_user_privileges</strong></a>(self, is_leader, function_name)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;uzytkownik&nbsp;ma&nbsp;uprawnienia&nbsp;aby&nbsp;wywolac<br>
funkcje.&nbsp;Jesli&nbsp;nie&nbsp;ma&nbsp;uprawnien&nbsp;zglasza&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;is_leader&nbsp;(bool):&nbsp;informuje&nbsp;czy&nbsp;uzytkownik&nbsp;jest&nbsp;leaderem<br>
&nbsp;&nbsp;&nbsp;&nbsp;function_name&nbsp;(str):&nbsp;nazwa&nbsp;funkcji</tt></dd></dl>

<dl><dt><a name="Database-compare_passwords"><strong>compare_passwords</strong></a>(self, password, db_password)</dt><dd><tt>Sprawdza&nbsp;za&nbsp;pomoca&nbsp;modulu&nbsp;pgcrypto&nbsp;czy&nbsp;haslo&nbsp;password<br>
odpowiada&nbsp;zaszyfrowanemu&nbsp;haslu&nbsp;db_password&nbsp;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;podane&nbsp;przez&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;db_password&nbsp;(str):&nbsp;zaszyfrowane&nbsp;haslo&nbsp;z&nbsp;bazy&nbsp;danych<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;(bool):&nbsp;True&nbsp;jesli&nbsp;hasla&nbsp;sie&nbsp;zgadzaja&nbsp;False&nbsp;wpp</tt></dd></dl>

<dl><dt><a name="Database-connect_to_database"><strong>connect_to_database</strong></a>(self, database_name, user_name, password)</dt><dd><tt>Ustanawia&nbsp;polaczenie&nbsp;z&nbsp;baza&nbsp;danych<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;database_name&nbsp;(str):&nbsp;nazwa&nbsp;bazy&nbsp;danych<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_name&nbsp;(str):&nbsp;nazwa&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;uzytkownika</tt></dd></dl>

<dl><dt><a name="Database-database_initialization"><strong>database_initialization</strong></a>(self, file_name)</dt><dd><tt>Ustanawia&nbsp;polaczenie&nbsp;z&nbsp;baza&nbsp;danych<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_name&nbsp;(str):&nbsp;nazwa&nbsp;pliku&nbsp;z&nbsp;polecami&nbsp;tworzacymi&nbsp;elementy&nbsp;bazy</tt></dd></dl>

<dl><dt><a name="Database-dead_user"><strong>dead_user</strong></a>(self, user_timestamp, current_timestamp)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;uzytkownik&nbsp;byl&nbsp;nieaktywny&nbsp;dluzej&nbsp;niz&nbsp;rok<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_timestamp&nbsp;(int):&nbsp;czas&nbsp;ostatniej&nbsp;aktywnosci&nbsp;usera,&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;&nbsp;&nbsp;&nbsp;current_timestamp&nbsp;(int):&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;True&nbsp;jesli&nbsp;uzytkownik&nbsp;jest&nbsp;zamrozony&nbsp;False&nbsp;wpp</tt></dd></dl>

<dl><dt><a name="Database-downvote_function"><strong>downvote_function</strong></a>(self, args)</dt><dd><tt>Dodaje&nbsp;glos&nbsp;na&nbsp;akcje&nbsp;do&nbsp;bazy&nbsp;danych<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;downvote&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;&lt;action&gt;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;glosu</tt></dd></dl>

<dl><dt><a name="Database-fields_have_different_id"><strong>fields_have_different_id</strong></a>(self, name, args)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;odpowiednie&nbsp;pola&nbsp;w&nbsp;pojedynczym&nbsp;wywolaniu&nbsp;funkcji&nbsp;maja<br>
rozne&nbsp;identyfikatory.&nbsp;Jesli&nbsp;odpowiednie&nbsp;pola&nbsp;maja&nbsp;te&nbsp;same&nbsp;identyfikatory<br>
zglaszany&nbsp;jest&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str):&nbsp;nazwa&nbsp;funkcji<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(int):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;przekazane&nbsp;do&nbsp;funkcji</tt></dd></dl>

<dl><dt><a name="Database-function_interpreter"><strong>function_interpreter</strong></a>(self, name, args)</dt><dd><tt>Interpretuje&nbsp;funkcje&nbsp;za&nbsp;pomoca&nbsp;lambda&nbsp;wyrazenia&nbsp;przekazujac&nbsp;sterowanie&nbsp;<br>
do&nbsp;odpowiedniej&nbsp;funkcji.&nbsp;Wywoluje&nbsp;funkcje&nbsp;zwracajaca&nbsp;status<br>
&nbsp;<br>
Parameters:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str):&nbsp;nazwa&nbsp;funkcji<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane</tt></dd></dl>

<dl><dt><a name="Database-get_member_by_id"><strong>get_member_by_id</strong></a>(self, id)</dt><dd><tt>Zwraca&nbsp;krotke&nbsp;uzytkownika&nbsp;o&nbsp;podanym&nbsp;id<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Krotka&nbsp;z&nbsp;danymi&nbsp;uzytkownika</tt></dd></dl>

<dl><dt><a name="Database-get_project_by_id"><strong>get_project_by_id</strong></a>(self, id)</dt><dd><tt>Zwraca&nbsp;krotke&nbsp;projektu&nbsp;o&nbsp;podanym&nbsp;id<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;projektu<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Krotka&nbsp;z&nbsp;danymi&nbsp;projektu</tt></dd></dl>

<dl><dt><a name="Database-id_exists"><strong>id_exists</strong></a>(self, id)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;identyfikator&nbsp;istnieje&nbsp;w&nbsp;bazie.<br>
Jesli&nbsp;tak&nbsp;zglasza&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator</tt></dd></dl>

<dl><dt><a name="Database-id_exists_in_column"><strong>id_exists_in_column</strong></a>(self, id_dict)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;identyfikatory&nbsp;istnieje&nbsp;w&nbsp;odpowiednich&nbsp;tabelach.<br>
Jesli&nbsp;ktorys&nbsp;identyfikator&nbsp;nie&nbsp;istnieje&nbsp;zglasza&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id_dict&nbsp;(int):&nbsp;slownik&nbsp;zawierajacy&nbsp;nazwy&nbsp;tabel&nbsp;oraz&nbsp;identyfikatory</tt></dd></dl>

<dl><dt><a name="Database-insert_project"><strong>insert_project</strong></a>(self, id, authority_id)</dt><dd><tt>Dodaje&nbsp;uzytkownika&nbsp;do&nbsp;tabeli&nbsp;member&nbsp;nadajac&nbsp;mu&nbsp;podane&nbsp;parametry<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;last_activity&nbsp;(int):&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;&nbsp;&nbsp;&nbsp;leader&nbsp;(bool):&nbsp;informuje&nbsp;czy&nbsp;uzytkownik&nbsp;jest&nbsp;leaderem</tt></dd></dl>

<dl><dt><a name="Database-insert_user"><strong>insert_user</strong></a>(self, id, password, last_activity, leader)</dt><dd><tt>Dodaje&nbsp;uzytkownika&nbsp;do&nbsp;tabeli&nbsp;member&nbsp;nadajac&nbsp;mu&nbsp;podane&nbsp;parametry<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;last_activity&nbsp;(int):&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;&nbsp;&nbsp;&nbsp;leader&nbsp;(bool):&nbsp;informuje&nbsp;czy&nbsp;uzytkownik&nbsp;jest&nbsp;leaderem</tt></dd></dl>

<dl><dt><a name="Database-interpret_string_as_json"><strong>interpret_string_as_json</strong></a>(self, string)</dt><dd><tt>Przeksztalca&nbsp;napis&nbsp;na&nbsp;slownik&nbsp;oraz&nbsp;przekazuje&nbsp;go&nbsp;do&nbsp;funkcji,<br>
ktora&nbsp;wykona&nbsp;polecenia&nbsp;w&nbsp;nim&nbsp;zawarte<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;(str):&nbsp;napis&nbsp;bedacy&nbsp;obiektem&nbsp;JSON</tt></dd></dl>

<dl><dt><a name="Database-leader_function"><strong>leader_function</strong></a>(self, args)</dt><dd><tt>Dodaje&nbsp;nowego&nbsp;uzytkownika&nbsp;ktory&nbsp;zostaje&nbsp;leaderem<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;leader&nbsp;&lt;timestamp&gt;&nbsp;&lt;password&gt;&nbsp;&lt;member&gt;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;dane&nbsp;nowego&nbsp;uzytkownika</tt></dd></dl>

<dl><dt><a name="Database-open_function"><strong>open_function</strong></a>(self, args)</dt><dd><tt>Otwiera&nbsp;polaczenie&nbsp;z&nbsp;baza&nbsp;danych&nbsp;za&nbsp;pomoca&nbsp;podanych&nbsp;danych&nbsp;logowania<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;open&nbsp;&lt;database&gt;&nbsp;&lt;login&gt;&nbsp;&lt;password&gt;&nbsp;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;dane&nbsp;logowania&nbsp;do&nbsp;bazy</tt></dd></dl>

<dl><dt><a name="Database-projects_function"><strong>projects_function</strong></a>(self, args)</dt><dd><tt>Zwraca&nbsp;liste&nbsp;wszystkich&nbsp;dzialan&nbsp;wraz&nbsp;z&nbsp;id&nbsp;organu&nbsp;wladzy.&nbsp;Jesli&nbsp;podano<br>
organ&nbsp;wladzy&nbsp;ogranicza&nbsp;sie&nbsp;tylko&nbsp;do&nbsp;projektow&nbsp;pod&nbsp;jego&nbsp;zarzadem<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;projects&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;[&nbsp;authority&nbsp;]<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane<br>
&nbsp;<br>
SQL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;project&gt;&nbsp;&lt;authority&gt;</tt></dd></dl>

<dl><dt><a name="Database-protest_function"><strong>protest_function</strong></a>(self, args)</dt><dd><tt>Dodaje&nbsp;protest&nbsp;do&nbsp;bazy&nbsp;danych<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;protest&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;&lt;action&gt;&nbsp;&lt;project&gt;&nbsp;[&nbsp;&lt;authority&gt;&nbsp;]<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;akcji</tt></dd></dl>

<dl><dt><a name="Database-read_from_file"><strong>read_from_file</strong></a>(self, file_name)</dt><dd><tt>Wczytuje&nbsp;z&nbsp;pliku&nbsp;obiekty&nbsp;JSON<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_name&nbsp;(str):&nbsp;nazwa&nbsp;pliku</tt></dd></dl>

<dl><dt><a name="Database-read_from_file_sql"><strong>read_from_file_sql</strong></a>(self, file_name)</dt><dd><tt>Czyta&nbsp;z&nbsp;pliku&nbsp;polecenia&nbsp;sql&nbsp;oraz&nbsp;je&nbsp;wykonuje<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_name&nbsp;(str):&nbsp;nazwa&nbsp;pliku&nbsp;z&nbsp;polecami&nbsp;sql</tt></dd></dl>

<dl><dt><a name="Database-start_stream"><strong>start_stream</strong></a>(self)</dt><dd><tt>Otwiera&nbsp;strumien&nbsp;wejscia</tt></dd></dl>

<dl><dt><a name="Database-status"><strong>status</strong></a>(self, error_occured, data)</dt><dd><tt>Zwraca&nbsp;status&nbsp;operacji.&nbsp;Jesli&nbsp;nie&nbsp;wystapil&nbsp;zaden&nbsp;blad&nbsp;<br>
zatwierdza&nbsp;zmiany&nbsp;wprowadzone&nbsp;w&nbsp;bazie&nbsp;oraz&nbsp;zwraca&nbsp;status&nbsp;OK&nbsp;z&nbsp;danymi.<br>
Jesli&nbsp;wystapil&nbsp;blad&nbsp;zwraca&nbsp;status&nbsp;error<br>
&nbsp;<br>
Parameters:&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;error_occured&nbsp;(bool):&nbsp;status&nbsp;wystapienia&nbsp;bledu<br>
&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(arr):&nbsp;tablica&nbsp;zawierajaca&nbsp;dane&nbsp;zwrocone&nbsp;przez&nbsp;zapytanie&nbsp;sql<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Obiekt&nbsp;JSON</tt></dd></dl>

<dl><dt><a name="Database-support_function"><strong>support_function</strong></a>(self, args)</dt><dd><tt>Dodaje&nbsp;wsparcie&nbsp;do&nbsp;bazy&nbsp;danych<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;support&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;&lt;action&gt;&nbsp;&lt;project&gt;&nbsp;[&nbsp;&lt;authority&gt;&nbsp;]<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;akcji</tt></dd></dl>

<dl><dt><a name="Database-trolls_function"><strong>trolls_function</strong></a>(self, args)</dt><dd><tt>Zwraca&nbsp;liste&nbsp;wszystkich&nbsp;uzytkownikow,&nbsp;ktorzy&nbsp;zaproponowali&nbsp;akcje&nbsp;<br>
majace&nbsp;sumarycznie&nbsp;wiecej&nbsp;downvotes&nbsp;niz&nbsp;upvotes&nbsp;na&nbsp;chwile&nbsp;podana&nbsp;w&nbsp;args<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;trolls&nbsp;&lt;timestamp&gt;<br>
&nbsp;<br>
Parameters:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
SQL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;&nbsp;&lt;upvotes&gt;&nbsp;&lt;downvotes&gt;&nbsp;&lt;active&gt;</tt></dd></dl>

<dl><dt><a name="Database-update_dead_status"><strong>update_dead_status</strong></a>(self, current_timestamp)</dt><dd><tt>Aktualizuje&nbsp;status&nbsp;zamrozenia&nbsp;wszystkich&nbsp;uzytkownikow<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;current_timestamp&nbsp;(int):&nbsp;UNIX&nbsp;timestamp</tt></dd></dl>

<dl><dt><a name="Database-update_user_return_true_if_leader"><strong>update_user_return_true_if_leader</strong></a>(self, id, password, last_activity)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;uzytkownik&nbsp;istnieje&nbsp;w&nbsp;bazie.&nbsp;Jesli&nbsp;istnieje&nbsp;to&nbsp;aktualizuje&nbsp;jego<br>
czas&nbsp;ostatniej&nbsp;aktywnosci.&nbsp;Jesli&nbsp;nie&nbsp;istnieje&nbsp;to&nbsp;go&nbsp;tworzy.<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;podane&nbsp;przez&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;last_activity&nbsp;(int):&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;(bool):&nbsp;True&nbsp;jesli&nbsp;user&nbsp;jest&nbsp;liderem&nbsp;False&nbsp;wpp</tt></dd></dl>

<dl><dt><a name="Database-update_user_timestamp"><strong>update_user_timestamp</strong></a>(self, id, user_password, password, user_timestamp, current_timestamp, is_dead)</dt><dd><tt>Aktualizuje&nbsp;czas&nbsp;ostatniej&nbsp;aktywnosci&nbsp;uzytkownika.&nbsp;W&nbsp;przypadku&nbsp;zlego&nbsp;hasla<br>
lub&nbsp;zamrozenia&nbsp;zglasza&nbsp;wyjatek<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_password&nbsp;(str):&nbsp;zaszyfrowane&nbsp;haslo&nbsp;z&nbsp;bazy&nbsp;danych&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;(str):&nbsp;haslo&nbsp;podane&nbsp;przez&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_timestamp&nbsp;(int):&nbsp;czas&nbsp;ostatniej&nbsp;aktywnosci&nbsp;usera,&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;&nbsp;&nbsp;&nbsp;current_timestamp&nbsp;(int):&nbsp;UNIX&nbsp;timestamp<br>
&nbsp;&nbsp;&nbsp;&nbsp;is_dead&nbsp;(bool):&nbsp;status&nbsp;zamrozenia&nbsp;uzytkownika</tt></dd></dl>

<dl><dt><a name="Database-upvote_function"><strong>upvote_function</strong></a>(self, args)</dt><dd><tt>Dodaje&nbsp;glos&nbsp;na&nbsp;akcje&nbsp;do&nbsp;bazy&nbsp;danych<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;upvote&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;&lt;action&gt;&nbsp;<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane&nbsp;glosu</tt></dd></dl>

<dl><dt><a name="Database-user_can_vote_for_action"><strong>user_can_vote_for_action</strong></a>(self, user_id, action_id)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;uzytkownik&nbsp;ma&nbsp;prawo&nbsp;glosowac&nbsp;w&nbsp;akcji<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_id&nbsp;(int):&nbsp;identyfikator&nbsp;uzytkownika<br>
&nbsp;&nbsp;&nbsp;&nbsp;action_id&nbsp;(int):&nbsp;identyfikator&nbsp;akcji<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;(bool)&nbsp;True&nbsp;jesli&nbsp;uzytkownk&nbsp;moze&nbsp;glosowac&nbsp;w&nbsp;akcji&nbsp;False&nbsp;wpp</tt></dd></dl>

<dl><dt><a name="Database-user_has_privileges"><strong>user_has_privileges</strong></a>(self, is_leader, function_name)</dt><dd><tt>Sprawdza&nbsp;czy&nbsp;uzytkownik&nbsp;ma&nbsp;uprawnienia&nbsp;aby&nbsp;wywolac<br>
funkcje<br>
&nbsp;<br>
Parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;is_leader&nbsp;(bool):&nbsp;informuje&nbsp;czy&nbsp;uzytkownik&nbsp;jest&nbsp;leaderem<br>
&nbsp;&nbsp;&nbsp;&nbsp;function_name&nbsp;(str):&nbsp;nazwa&nbsp;funkcji<br>
&nbsp;<br>
Return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;(bool)&nbsp;True&nbsp;jesli&nbsp;uzytkownik&nbsp;moze&nbsp;wykonac&nbsp;akcje&nbsp;False&nbsp;wpp</tt></dd></dl>

<dl><dt><a name="Database-votes_function"><strong>votes_function</strong></a>(self, args)</dt><dd><tt>Zwraca&nbsp;liste&nbsp;wszystkich&nbsp;czlonkow&nbsp;wraz&nbsp;<br>
liczbami&nbsp;oddanych&nbsp;przez&nbsp;nich&nbsp;glosow&nbsp;za&nbsp;i&nbsp;przeciw.&nbsp;Jesli&nbsp;podano&nbsp;akcje/projekt&nbsp;<br>
to&nbsp;ogranicza&nbsp;sie&nbsp;tylko&nbsp;glosow&nbsp;z&nbsp;nimi&nbsp;zwiazanymi.<br>
&nbsp;<br>
Format:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;votes&nbsp;&lt;timestamp&gt;&nbsp;&lt;member&gt;&nbsp;&lt;password&gt;&nbsp;[&nbsp;&lt;action&gt;&nbsp;|&nbsp;&lt;project&gt;&nbsp;]<br>
&nbsp;<br>
Parameters:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;(dict):&nbsp;slownik&nbsp;zawierajacy&nbsp;dane<br>
&nbsp;<br>
SQL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;&nbsp;&lt;upvotes&gt;&nbsp;&lt;downvotes&gt;</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-main"><strong>main</strong></a>()</dt></dl>
</td></tr></table>
</body></html>